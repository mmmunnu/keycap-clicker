<script>
  let current = "blue";
  let count = 0;
  let unlocked = false;

  const soundUrls = {
    blue: "https://assets.mixkit.co/sfx/preview/mixkit-mechanical-keyboard-single-press-2531.mp3",
    red: "https://assets.mixkit.co/sfx/preview/mixkit-keyboard-typing-1386.mp3",
    brown: "https://assets.mixkit.co/sfx/preview/mixkit-computer-keyboard-click-1138.mp3"
  };

  function play() {
    if (!unlocked) {
      const test = new Audio(soundUrls[current]);
      test.play().then(() => unlocked = true).catch(() => {});
      return;
    }

    const sound = new Audio(soundUrls[current]);
    sound.currentTime = 0;
    sound.volume = 1;
    sound.play();

    count++;
    document.getElementById("count").textContent = count;
  }

  document.body.addEventListener("click", play);
  document.body.addEventListener("touchstart", play);

  document.querySelectorAll("button").forEach(btn => {
    btn.addEventListener("click", e => {
      current = btn.dataset.sound;
      document.querySelectorAll("button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      e.stopPropagation();
    });
  });
</script>
